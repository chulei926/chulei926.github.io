(window.webpackJsonp=window.webpackJsonp||[]).push([[161],{525:function(s,a,e){"use strict";e.r(a);var t=e(22),r=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"nexus私服安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nexus私服安装"}},[s._v("#")]),s._v(" nexus私服安装")]),s._v(" "),e("h2",{attrs:{id:"安装包及版本信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装包及版本信息"}},[s._v("#")]),s._v(" 安装包及版本信息")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[s._v("docker.io/sonatype/nexus3\n")])])]),e("h2",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ docker run -d --name nexus -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8081")]),s._v(":8081 -e "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("INSTALL4J_ADD_VM_PARAMS")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-Xms2g -Xmx2g"')]),s._v(" -v /mnt/data/nexus:/nexus-data --restart"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("on-failure:10 docker.io/sonatype/nexus3\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[s._v("#")]),s._v(" 配置")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[s._v("暂无\n")])])]),e("h2",{attrs:{id:"启动"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[s._v("#")]),s._v(" 启动")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ docker start nexus3\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"停止"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#停止"}},[s._v("#")]),s._v(" 停止")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ docker stop nexus3\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"重启"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重启"}},[s._v("#")]),s._v(" 重启")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ docker restart nexus3\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"如何自动备份数据文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何自动备份数据文件"}},[s._v("#")]),s._v(" 如何自动备份数据文件")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("/mnt/data/nexus-data/tmp/scrpt/bk.sh\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"如何监控并自动重启"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何监控并自动重启"}},[s._v("#")]),s._v(" 如何监控并自动重启")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("/home/nexus3Watch\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" ./nexus3Watch.sh "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"其他方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#其他方式"}},[s._v("#")]),s._v(" 其他方式")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ docker run -d -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8081")]),s._v(":8081 --name nexus -e "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("INSTALL4J_ADD_VM_PARAMS")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-Xms2g -Xmx2g -XX:MaxDirectMemorySize=3g  -Djava.util.prefs.userRoot=/some-other-dir"')]),s._v(" sonatype/nexus3\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"nexus3-修改admin密码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nexus3-修改admin密码"}},[s._v("#")]),s._v(" nexus3 修改admin密码")]),s._v(" "),e("p",[s._v("进入到 安装目录")]),s._v(" "),e("p",[s._v("第一步：进入OrientDB控制台")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("java -jar ./lib/support/nexus-orient-console.jar\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("第二步：进入数据库")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("connect plocal:"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/sonatype-work/nexus3/db/security admin admin\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("第三步：重置密码")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("update user SET "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("password")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$shiro1")]),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SHA")]),s._v("-512"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1024")]),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$NE")]),s._v("+wqQq/TmjZMvfI7ENh/g=="),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$V4yPw8T64UQ6GfJfxYq2hLsVrBY8D1v")]),s._v('+bktfOxGdt4b/9BthpWPNUy/CBk6V9iA0nHpzYzJFWO8v/tZFtES8CA=="')]),s._v(" UPSERT WHERE "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("id")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"admin"')]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);