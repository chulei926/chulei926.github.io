(window.webpackJsonp=window.webpackJsonp||[]).push([[208],{576:function(s,e,a){"use strict";a.r(e);var t=a(22),n=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"zk安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zk安装"}},[s._v("#")]),s._v(" zk安装")]),s._v(" "),a("h2",{attrs:{id:"_1-修改linux配置文件-etc-hosts-向其中添加"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-修改linux配置文件-etc-hosts-向其中添加"}},[s._v("#")]),s._v(" 1. 修改linux配置文件/etc/hosts，向其中添加：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## zookeeper server")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".64.128 dubbo-provider-01\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"_2-解压zookeeper-3-4-8-tar-gz"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-解压zookeeper-3-4-8-tar-gz"}},[s._v("#")]),s._v(" 2. 解压zookeeper-3.4.8.tar.gz：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -xzvf zookeeper-3.4.8.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_3-重命名zookeeper"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-重命名zookeeper"}},[s._v("#")]),s._v(" 3. 重命名zookeeper：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" zookeeper-3.4.8/ zookeeper\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_4-在zookeeper文件夹下创建data和logs文件夹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-在zookeeper文件夹下创建data和logs文件夹"}},[s._v("#")]),s._v(" 4. 在zookeeper文件夹下创建data和logs文件夹：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" data\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" logs\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"_5-将zookeeper-conf文件夹下的zook-sample-cfg文件拷贝一份-命名为zoo-cfg"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-将zookeeper-conf文件夹下的zook-sample-cfg文件拷贝一份-命名为zoo-cfg"}},[s._v("#")]),s._v(" 5. 将zookeeper/conf文件夹下的zook_sample.cfg文件拷贝一份，命名为zoo.cfg：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" zoo_sample.cfg zoo.cfg\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_6-修改zoo-cfg配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-修改zoo-cfg配置文件"}},[s._v("#")]),s._v(" 6. 修改zoo.cfg配置文件：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## vi zoo.cfg ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## The number of milliseconds of each tick")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("tickTime")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## The number of ticks that the initial")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## synchronization phase can take")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("initLimit")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## The number of ticks that can pass between")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## sending a request and getting an acknowledgement")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("syncLimit")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## the directory where the snapshot is stored.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## do not use /tmp for storage, /tmp here is just")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## example sakes.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("dataDir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/software/zookeeper/data\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("dataLogDir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/software/zookeeper/logs\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## the port at which the clients will connect")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("clientPort")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2181")]),s._v("\nserver.1"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("dubbo-provider-01:2888:3888\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## the maximum number of client connections.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## increase this if you need to handle more clients")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#maxClientCnxns=60")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("h2",{attrs:{id:"_7-在zookeeper的data文件夹下创建myid文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-在zookeeper的data文件夹下创建myid文件"}},[s._v("#")]),s._v(" 7. 在zookeeper的data文件夹下创建myid文件：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /software/zookeeper/data/myid\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_8-修改-bash-profile文件-增加zookeeper的配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-修改-bash-profile文件-增加zookeeper的配置"}},[s._v("#")]),s._v(" 8. 修改.bash_profile文件，增加zookeeper的配置：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("locate")]),s._v(" .bash_profile\n/etc/skel/.bash_profile\n/home/chulei/.bash_profile\n/root/.bash_profile\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /root/.bash_profile\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 添加如下内容：")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## zookeeper env")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ZOOKEEPER_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/software/zookeeper\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ZOOKEEPER_HOME")]),s._v("/bin:"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h2",{attrs:{id:"_9-使配置文件生效"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-使配置文件生效"}},[s._v("#")]),s._v(" 9. 使配置文件生效：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /root/.bash_profile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_10-测试并启动zookeeper"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-测试并启动zookeeper"}},[s._v("#")]),s._v(" 10. 测试并启动zookeeper：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /software/zookeeper/bin/\nzkServer.sh start\nzkServer.sh status\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" -500f zookeeper.out\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])])}),[],!1,null,null,null);e.default=n.exports}}]);